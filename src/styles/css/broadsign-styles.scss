@import "../base/dependencies";

@mixin embed_font($name, $file, $weight) {
	$filepath: "./fonts/"+$file;

	@font-face {
		font-display: swap;
		font-family: $name;
		font-weight: $weight;
		src: url($filepath+".woff2") format("woff2"),
			url($filepath+".woff") format("woff");
	}
}

@include embed_font("Roboto Thin", "Roboto-Thin", "100");
@include embed_font("Roboto Light", "Roboto-Light", "300");
@include embed_font("Roboto Regular", "Roboto-Regular", "400");
@include embed_font("Roboto Medium", "Roboto-Medium", "500");
@include embed_font("Roboto Bold", "Roboto-Bold", "700");
@include embed_font("Roboto Black", "Roboto-Black", "900");
@include embed_font("Roboto", "Roboto-Regular", "400");
@include embed_font("Merriweather", "Merriweather-Regular", "400");
@include embed_font("Merriweather Regular", "Merriweather-Regular", "400");
@include embed_font("Merriweather Bold", "Merriweather-Bold", "700");
@include embed_font("Merriweather Black", "Merriweather-Black", "900");

:root {

	@each $name,
	$color in $broadsignColors {
		--#{$name}: #{$color};
	}
}

/* PRIME */
/*
Not including prime/spacing.scss, which is the heaviest.
Maybe just create the classes p-#, m-# as needed.
*/
// @import "../prime/spacing";
@import "../prime/variables";
@import "../prime/mixins";
@import "../base/mixins";
@import "../prime/grid";
@import "../prime/typography";
@import "../prime/border";
@import "../prime/borderradius";
@import "../prime/size";
@import "../prime/overflow";
@import "../prime/misc";
@import "../prime/utils";

@import "../pages/blog";

@import "../components/Container";

@include color-class('text-', 'color', ("black":#000, "cerulean":$cerulean, "reflex":$reflex, "scarlet":$scarlet, "white":#FFF), true);
@include color-class('bg-', 'background-color', ("cerulean":$cerulean, "reflex":$reflex, "white":#FFF), true);

@include animThisWayRight;

/* Mostly taken from base/normalize.scss and base/typography.scss */

body {
	font-family: "Roboto", sans-serif;
}

.wp-admin .editor-styles-wrapper .wp-block,
.post {
	img {
		background-color: transparent;
		border-style: none;
		position: relative;
	}

	picture {
		background-color: transparent;
	}

	figure {
		margin: 0;
		position: relative;
	}

	img[class*="w-"] {
		border-radius: 0;
		padding-bottom: 0.4%;
		vertical-align: middle;
	}

	.infographic {
		/* height: 80vmax;
		max-height: calc(100vh - 70px); */
		aspect-ratio: 110 / 85;

		&.orientation_portrait {
			aspect-ratio: 85/110;
			display: block;
			margin-left: auto;
			margin-right: auto;
			max-height: 89vh;
			width: 70vmin !important;
		}
	}

	.flipbook {
		max-height: calc(90vh - 70px);

		.fliphtml5 {}

		&.type_infographic {
			aspect-ratio: 9 / 8;
			height: auto;
			position: relative;
			width: 100%;
		}

		&.type_infographic_wide {

			&,
			iframe {
				aspect-ratio: 17 / 12;
				height: auto;
				max-height: calc(90vh - 70px);
				position: relative;
				width: 100%;
			}
		}

		iframe {
			aspect-ratio: 9 / 8;
			border: none;
			height: auto;
			position: relative;
			width: 100%;
		}
	}

	.w-18 {
		max-height: 22px;
		width: 18px;
	}

	.w-22 {
		max-height: 26px;
		width: 22px;
	}
}

/*
A direct import from ../base/helpers.scss, adapted to WP
(use ".wp-admin .editor-styles-wrapper .wp-block, .post"
instead of ".theme_carolina")
*/

@mixin hsFontSizes {

	h2,
	.h2 {
		font-size: 24px !important;
		/* font-size: 48px !important; */
	}

	h3,
	.h3 {
		font-size: 24px !important;
		/* font-size: 38px !important; */
	}

	h4,
	.h4 {
		font-size: 24px !important;
		/* font-size: 34px !important; */
	}

	h5,
	.h5 {
		font-size: 24px !important;
		/* font-size: 24px !important; */
	}

	h6,
	.h6 {
		font-size: 24px !important;
		/* font-size: 20px !important; */
	}
}

.wp-admin .wp-block,
.post {
	@include hsFontSizes();

	color: $reflex;

	.flex-center {
		align-items: center !important;
		justify-content: center !important;
	}

	h1,
	.h1,
	h2,
	.h2,
	h3,
	.h3,
	h4,
	.h4,
	h5,
	.h5,
	h6,
	.h6 {
		color: $reflex;
		display: block;
		font-family: "Roboto Bold", "Roboto";
		font-weight: 700;
		margin: 0 0 1em;
		text-transform: none;
		width: 100%;
	}

	h1,
	.h1 {
		font-size: 96px !important;
	}

	.subtitle-1 {
		@include fontReg;
		color: $cerulean;
		font-size: 14px !important;
		letter-spacing: 0.1em;
		margin-bottom: 0.4em;
		text-transform: uppercase;

		&.gradient {
			background: linear-gradient(to right, #E43425 20%, #441FD8 80%, #0A26B8 100%);
			-webkit-background-clip: text;
			background-clip: text;
			display: inline-block;
			-webkit-text-fill-color: transparent;
		}
	}

	.subtitle-2 {
		@include fontReg;
		color: $cerulean;
		font-size: 14px !important;
		letter-spacing: 0.1em;
		margin-bottom: 0.4em;
		text-transform: uppercase;

		&.gradient {
			background: linear-gradient(to right, #E43425 20%, #441FD8 80%, #0A26B8 100%);
			-webkit-background-clip: text;
			background-clip: text;
			display: inline-block;
			-webkit-text-fill-color: transparent;
		}
	}

	p {
		@include fontReg;
		color: $ash;
		font-size: 16px;
		margin: 0 0 1em;

		&.sm {
			font-size: 14px;
		}
	}

	.font-bold {
		font-weight: 700;
	}

	.font-bolder,
	.font-black {
		font-weight: 900;
	}

	ul.checks_gradient {
		li {
			align-items: center;
			background: url("../img/ui/check_circle_gradient.svg") left 0.75em no-repeat;
			background-size: 22px 22px;
			color: $ash;
			display: flex;
			font-size: 16px;
			padding: 0.8em 0 0.8em 2em;
		}
	}

	a {
		background-color: transparent;
		color: $cerulean;
		cursor: pointer;
		display: inline;
		text-decoration: none;
		transition: background-color, border-color, color, opacity, width;
		transition-duration: 0.3s;

		&:hover {
			color: $scarlet;
			outline: none;
			text-decoration: none;
		}

		&:focus,
		&:active {
			color: $scarlet;
			outline: none;
			text-decoration: none;
		}
	}

	.CTA {
		align-items: center;
		background-image: none;
		border: 1px solid transparent;
		border-radius: 100em;
		box-shadow: none;
		box-sizing: border-box;
		cursor: pointer;
		display: inline-flex;
		font-family: "Roboto Medium", "Roboto", "Arial", "Helvetica", sans-serif;
		font-size: 14px;
		font-weight: 500;
		justify-content: center;
		letter-spacing: 0.1em;
		line-height: 120%;
		min-height: 3.2em;
		overflow: hidden;
		padding: 0.65em 1.8em 0.6em;
		position: relative;
		text-align: center;
		text-decoration: none !important;
		text-shadow: none;
		text-transform: uppercase;
		transition-duration: 0.3s;
		transition-property: background-color, border-color, color, opacity;
		white-space: nowrap;
		z-index: 10;

		&.primary {
			background-color: #001464;
			color: #FFF;

			&:hover {
				background-color: #1056FB;
				color: #FFF;
			}
		}

		&.secondary {
			background-color: #1056FB;
			color: #FFF;

			&:hover {
				background-color: #001464;
				color: #FFF;
			}
		}

		&.primary-outline {
			background-color: #FFF;
			border: 1px solid #001464;
			color: #001464;

			&:hover {
				background-color: #001464;
				color: #FFF;
			}
		}

		&.secondary-outline {
			background-color: #FFF;
			border: 1px solid #1056FB;
			color: #1056FB;

			&:hover {
				background-color: #1056FB;
				color: #FFF;
			}
		}
	}

	hr {
		background-color: $ash;
		border: 0 none;
		display: block;
		height: 2px;
		margin: 2rem auto;
		width: 100%;

		&.gradient {
			@include broadsignGradient;
		}

		&.thickness-1 {
			height: 1px;
		}

		&.thickness-2 {
			height: 2px;
		}

		&.thickness-3 {
			height: 3px;
		}

		&.color-ash {
			background-color: $ash;
		}

		&.color-ultra {
			background-color: $ultra;
		}

		&.color-light {
			background-color: $light;
		}

		&.color-medium {
			background-color: $medium;
		}

		&.color-soft {
			background-color: $soft;
		}
	}

	.bg-gradient,
	.bg-gradient-1 {
		background: linear-gradient(96.54deg, #E43425 4.89%, #441FD8 72.33%, #0A26B8 119.62%);
	}
}

.wp-admin .edit-post-visual-editor {
	@include hsFontSizes();
}

.wp-admin .edit-post-visual-editor .wp-block-gallery {}


@mixin linkWithArrow {
	align-items: center;
	cursor: pointer;
	display: inline-flex;

	&:after {
		background: transparent url("../img/ui/arrow_right_cerulean.svg") center center no-repeat;
		content: "";
		display: inline-block;
		height: 0.7em;
		margin-left: 1em;
		position: relative;
		width: 1.8em;
	}

	&:hover {
		&:after {
			animation: thisWayRight 1.4s linear 0s infinite;
		}
	}
}

.link_red_arrow {
	@include linkWithArrow;

	&:after {
		background: transparent url("../img/ui/arrow_right_red.svg") center center no-repeat;
		background-size: contain;
	}
}

.link_cerulean_arrow {
	@include linkWithArrow;

	&:after {
		background: transparent url("../img/ui/arrow_right_cerulean.svg") center center no-repeat;
		background-size: contain;
	}
}

.link_reflex_arrow {
	@include linkWithArrow;

	&:after {
		background: transparent url("../img/ui/arrow_right_reflex.svg") center center no-repeat;
		background-size: contain;
	}
}

.hover\:screen:hover {
	background-color: rgba(#FFF, 0.2) !important;
}

@each $w in (900, 1000, 1100) {
	.max-w-#{$w} {
		max-width: #{$w}px !important;
	}
}

@each $z in (10, 50, 100, 1000) {
	.z-#{$z} {
		z-index: $z;
	}
}

@media (min-width:$sm) {

	.wp-admin .editor-styles-wrapper .wp-block,
	.post {
		.auto-fold .components-notice-list {}
	}
}

@media (min-width:$md) {

	.wp-admin.auto-fold .components-notice-list {
		left: 0;
	}
}

/* Admin Tweaks */

.wp-admin {
	#menu-comments {
		display: none;
	}

	// Tweaks to ACF fields
	.acf-button-group label {
		&.selected {
			font-weight: bold;
			opacity: 1 !important;
		}

		&:has([value="reflex"]) {
			background-color: $reflex;
			color: #FFF;
			opacity: 0.5;
		}

		&:has([value="cerulean"]) {
			background-color: $cerulean;
			color: #FFF;
			opacity: 0.5;
		}

		&:has([value="scarlet"]) {
			background-color: $scarlet;
			color: #FFF;
			opacity: 0.5;
		}

		&:has([value="white"]) {
			background-color: #FFF;
			color: $reflex;
			opacity: 0.5;
		}

		&:has([value="black"]) {
			background-color: #000;
			color: #FFF;
			opacity: 0.5;
		}
	}
}

/* Adapt Components */

/* CTA Tiles */

.wp-admin {
	.edit-post-visual-editor {

		@import "../components/BlogCTATile";

		.BlogCTATile {
			align-items: center;
			background-color: $reflex;
			background-position: center center;
			background-repeat: no-repeat;
			background-size: cover;
			border-radius: 10px;
			box-sizing: border-box;
			display: flex;
			flex-flow: column nowrap;
			justify-content: space-between;
			margin: 0 auto 60px;
			max-width: 350px;
			padding: min(32px, 5vw);
			transform: scale(1);

			.gcb-editor-form {
				background-color: rgba(#FFF, 0.9);
			}

			.is-root-container {
				&>*:first-child {
					margin-top: 0;
				}

				&>*:last-child {
					margin-bottom: 0;
				}
			}

			h2 {
				@include fontMed;
				font-size: 36px;
			}

			h3 {
				@include fontMed;
				font-size: 32px;
			}

			h4 {
				@include fontMed;
				font-size: 28px;
			}

			h5 {
				@include fontMed;
				font-size: 24px;
			}
		}

		[data-type="leadin/hubspot-form-block"] {
			max-width: 350px;

			&:not(.is-selected) {
				left: max(-32px, -5vw);
				margin: 0;
				position: absolute;
				top: max(-32px, -5vw);
				transform: translateX(-120%);

				&:before {
					background: transparent url("https://writers.broadsign.com/wp-content/uploads/2023/03/hubspot-icon.png");
					background-repeat: no-repeat;
					background-size: contain;
					border-radius: 10px;
					color: #FFF;
					content: "";
					cursor: pointer;
					display: block;
					height: 60px;
					margin: 0 auto;
					position: relative;
					transition: fill 0.3s ease;
					width: 60px;
				}

				&>div {
					display: none;
				}

				&:hover:before {
					box-shadow: inset 0 0 10px #FFF;
				}
			}

			&.is-selected {
				background-color: $zircon;
				border-radius: 10px;

				&:before {
					color: $reflex;
					content: "This is the Hubspit form that wil be used. Clicking on this tile's CTA will open this form in a modal window (popup).";
					display: inline-block;
					font-size: 14px;
					padding: 18px;
				}
			}

			&>div:first-of-type {
				padding-left: 18px;
				padding-right: 18px;

				p {
					color: $reflex;
				}
			}

			.hbspt-form {
				padding: 18px;

				form {

					&,
					p,
					span {
						color: $reflex;
						font-size: 14px;
					}
				}

				fieldset {
					max-width: 100%;
				}

				.field {
					margin-bottom: 12px;
				}

				fieldset.form-columns-1 .input {}

				.hs-input {
					margin: 4px 0;
					padding: 0.2em 0.6em;
					width: 100%;

					&[type="checkbox"] {
						width: auto;
					}
				}

				.hs_consent_to_privacy_policy {
					ul {
						list-style-type: none;
						padding: 0;
					}

					label {
						align-items: flex-start;
						display: flex;
						font-size: 13px;

						input {
							margin-top: 0;
						}

						span {
							line-height: 120%;
							margin-left: 10px;
						}
					}
				}

				.hs_submit {
					margin: 16px 0;
					text-align: center;

					.hs-button {
						align-items: center;
						background-color: $reflex;
						background-image: none;
						border: 1px solid $reflex;
						border-radius: 100em;
						box-shadow: none;
						box-sizing: border-box;
						color: #FFF;
						cursor: pointer;
						display: inline-flex;
						font-family: "Roboto Medium", "Roboto", "Arial", "Helvetica", sans-serif;
						font-size: 14px;
						font-weight: 500;
						justify-content: center;
						letter-spacing: 0.1em;
						line-height: 120%;
						margin: 16px 0;
						min-height: 3.2em;
						overflow: hidden;
						padding: 0.65em 1.8em 0.6em;
						position: relative;
						text-align: center;
						text-decoration: none !important;
						text-shadow: none;
						text-transform: uppercase;
						transition-duration: 0.3s;
						transition-property: background-color, border-color, color, opacity;
						white-space: nowrap;
						z-index: 10;

						&:hover {
							background-color: #FFF;
							color: $reflex;
						}
					}
				}

				.hs-error-msgs {
					color: $scarlet;
					list-style-type: none;
					margin: 0;
					padding: 0;
				}

				.hs-form-required {
					color: $scarlet;
					margin-left: 4px;
				}
			}

			&:after {
				display: none;
			}

			#leadin-async-selector {
				position: relative;
				width: 100%;

				&+div {
					transform: translateX(-25%);
					width: 30vw;
				}
			}
		}
	}
}
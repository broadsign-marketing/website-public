@import "../base/dependencies";

#dsp_partners {
	.hero {
		.hero_img_wrapper {
			aspect-ratio: 534 / 416;
			width: 100%;

			&.observed {
				.hero_bubble {
					opacity: 1;
					transform: scale(1);
				}
			}
		}

		.hero_main {
			top: 6%;
			width: 60%;
		}

		.hero_bubble {
			opacity: 0;
			transform: scale(0);
			transition: transform 1s ease, opacity 0.6s ease;
		}

		.hero_bubble_01 {
			left: 5%;
			top: 53%;
			transform-origin: 87% -1%;
			width: 40%;
		}

		.hero_bubble_02 {
			left: 52%;
			top: 49%;
			transform-origin: 0% 7%;
			width: 48%;
		}

		.hero_bubble_03 {
			left: 55%;
			top: 0%;
			transform-origin: 0% 94%;
			width: 37%;
		}
	}

	.potential {
		.icon {
			flex: 0 0 48px;
			width: 48px;
		}

		h3 {
			line-height: 48px;
		}
	}

	.locations {}

	.map_zone {
		aspect-ratio: 900/446;
		margin: min(10vw, 100px) auto min(10vw, 100px);
	}

	.map {
		aspect-ratio: 900/446;
		margin: auto;
		max-width: 900px;
		width: 100%;
	}

	.inventory {
		background: #FFF;
		border: 1px solid $reflex;
		border-radius: 8px;
		box-shadow: 4px 4px 16px rgba($reflex, 0.1);
		opacity: 0;
		padding: min(0.8vw, 6px) min(1.2vw, 12px) min(1.2vw, 12px);
		position: absolute;
		z-index: 10;

		.image {
			border: 1px solid $reflex;
			border-radius: 4px;
		}

		.tail {
			display: block;
			position: absolute;
			width: 14px;
		}

		&.active {
			opacity: 1;
			transform: scale(1);
		}
	}

	.pin {
		position: absolute;
	}

	.dsps {}

	.logos {
		align-items: center;
		display: grid;
		grid-template-columns: 1fr 1fr 1fr;
		grid-template-rows: 48px;
		justify-items: center;
		max-width: 100%;
		gap: min(2vw, 20px);

		&.observed {
			.logo {
				opacity: 1;
			}
		}
	}

	.logo {
		max-height: 48px;
		max-width: 100%;
		opacity: 1;
		transition: opacity 0.6s ease;
	}
}

@media (max-width:$xsMax) {
	#dsp_partners {
		.inventory {
			transform: translate(-14px, calc(-2vw - 18px)) scale(0);
			transform-origin: 50% 50%;
			transition: opacity 0.6s ease;

			&.airports {
				left: 48%;
				top: 47%;
				transform: translate(-14px, calc(-2vw - 18px));
				width: 39.78%;

				.tail {
					right: 0%;
					top: 61%;
					transform: translateX(100%) translateY(-50%);
				}
			}

			&.bus_shelters {
				left: 46%;
				top: 11%;
				transform: translate(14px, calc(-2vw - 18px));
				width: 49%;

				.tail {
					left: 0%;
					top: 37%;
					transform: translateX(-100%) scaleX(-1) translateY(-50%);
				}
			}

			&.gas_stations {
				left: 0%;
				top: 56%;
				transform: translate(0px, calc(-2vw - 18px + 14px));
				width: 46.11%;

				.tail {
					left: 49%;
					top: 0%;
					transform: translateY(-100%) rotate(-90deg) translateX(-50%) scaleY(-1);
				}
			}

			&.office_lobbies {
				left: 46.5%;
				top: 12%;
				transform: translate(14px, calc(-2vw - 18px));
				width: 34.33%;

				.tail {
					left: 0%;
					top: 23%;
					transform: translateX(-100%) scaleX(-1);
				}
			}

			&.taxis {
				left: 22%;
				top: 21%;
				transform: translate(14px, calc(-2vw - 18px));
				width: 31.67%;

				.tail {
					left: 0%;
					top: 49%;
					transform: translateX(-100%) scaleX(-1) translateY(-50%);
				}
			}

			&.train_stations {
				left: 43%;
				top: 16%;
				transform: translate(14px, calc(-2vw - 18px));
				width: 40%;

				.tail {
					left: 0%;
					top: 29%;
					transform: translateX(-100%) scaleX(-1) translateY(-50%);
				}
			}
		}
	}
}

@media (min-width:$sm) {
	#dsp_partners {
		.logos {
			grid-template-columns: 1fr 1fr 1fr 1fr;
		}
	}
}

@media (min-width:$md) {
	#dsp_partners {
		.logos {
			grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
		}

		.inventory {
			opacity: 0;
			transform: scale(0);
			transition: transform 0.6s ease, opacity 0.6s ease;

			&.active {
				opacity: 1;
				transform: scale(1);
			}

			&.airports {
				left: 70.5%;
				top: 9%;
				transform-origin: 41.8% 108%;
				width: 39.78%;

				.tail {
					left: 43%;
					top: 100%;
					transform: rotate(90deg) translateX(-50%);
				}
			}

			&.bus_shelters {
				left: 48%;
				top: -17%;
				transform-origin: -3.2% 70.8%;
				width: 49%;

				.tail {
					left: 0%;
					top: 63%;
					transform: translateX(-100%) scaleX(-1);
				}
			}

			&.gas_stations {
				left: -11%;
				top: 47.5%;
				transform-origin: 73% -9%;
				width: 46.11%;

				.tail {
					left: 73%;
					top: 0%;
					transform: translateY(-100%) rotate(-90deg) translateX(-50%) scaleY(-1);
				}
			}

			&.office_lobbies {
				left: 45%;
				top: -15%;
				transform-origin: -7% 55%;
				width: 34.33%;

				.tail {
					left: 0%;
					top: 49%;
					transform: translateX(-100%) scaleX(-1);
				}
			}

			&.taxis {
				left: -10.5%;
				top: 24.4%;
				transform-origin: 105.8% 27%;
				width: 31.67%;

				.tail {
					right: 0%;
					top: 17%;
					transform: translateX(100%);
				}
			}

			&.train_stations {
				left: 45%;
				top: -13%;
				transform-origin: -8.4% 81%;
				width: 25.11%;

				.tail {
					left: 0%;
					top: 73%;
					transform: translateX(-100%) scaleX(-1);
				}
			}

		}
	}
}

@media (min-width:$md)and (max-width:$mdMax) {
	#dsp_partners {
		.inventory {
			h3 {
				font-size: 26px !important;
			}

			&.active {
				transform: scale(0.5) translateY(-1%);
			}

			&.airports {
				left: 70.5%;
				top: 5%;
			}

			&.bus_shelters {
				left: 49.3%;
				top: -21%;
			}

			&.gas_stations {
				top: 48%;
			}

			&.office_lobbies {
				top: -17%;
			}

			&.taxis {
				left: -10.7%;
			}

			&.train_stations {
				left: 45%;
				top: -17%;
			}
		}
	}
}